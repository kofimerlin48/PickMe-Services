<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta 
    name="viewport" 
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  >
  <title>PickMe Services Ad Page</title>

  <!-- CSS path inside Advert folder -->
  <link rel="stylesheet" href="/Advert/advert.css">
</head>

<body>
  <div class="mobile-wrapper">
    <div class="advert-text">
      Click <a href="#" id="advertLink">HERE</a> to add your advert
    </div>

    <div id="flyerBg"></div>
    <img id="flyer" src="" />

    <div class="button-container">
      <button id="contactBtn">Contact Us</button>
      <button id="closeAdBtn">Close Ad</button>
    </div>

    <div id="prevBtn">&#10094;</div>
    <div id="nextBtn">&#10095;</div>
  </div>

  <!-- FULL PAGE FORM OVERLAY -->
  <div id="advertFormOverlay" class="advert-form-overlay hidden">
    <div class="advert-form-card">
      <div class="advert-form-header">
        <h2 id="formTitle">Create Advert</h2>
        <button type="button" id="closeFormBtn" class="form-close-btn">&times;</button>
      </div>

      <div class="advert-form-body">
        <!-- STEP 1: ADVERT TYPE -->
        <div class="form-step" data-step="1">
          <p class="form-step-title">What is your advert about?</p>
          <p class="form-step-subtitle">
            Choose one option below.
          </p>

          <div class="type-options">
            <button type="button" class="type-card" data-type="event">
              <div class="type-card-main">
                <h3>Event advert</h3>
                <p>Funerals, parties, shows, promos, or anything with a fixed date.</p>
              </div>
              <div class="type-card-check">&#10003;</div>
            </button>

            <button type="button" class="type-card" data-type="business">
              <div class="type-card-main">
                <h3>Business advert</h3>
                <p>Shops, services, products and long-term adverts without a fixed date.</p>
              </div>
              <div class="type-card-check">&#10003;</div>
            </button>
          </div>
        </div>

        <!-- STEP 2: BASIC INFO -->
        <div class="form-step hidden" data-step="2">
          <p class="form-step-title">Advert details</p>

          <div class="form-field">
            <label class="field-label">Advert title <span class="required">*</span></label>
            <input type="text" id="advertTitle" placeholder="Eg. All Black Affair, Grand Opening, Promo..." />
          </div>

          <div class="form-field">
            <label class="field-label">Short description (optional)</label>
            <textarea id="advertDesc" rows="3" placeholder="Add a short message that explains your advert."></textarea>
          </div>

          <div class="form-field" id="eventDateRow">
            <label class="field-label">Event date <span class="required">*</span></label>
            <input type="date" id="advertDate" />
          </div>
        </div>

        <!-- STEP 3: IMAGE UPLOAD -->
        <div class="form-step hidden" data-step="3">
          <p class="form-step-title">Upload your flyer</p>

          <div id="imageUploadArea">
            <button type="button" id="chooseImageBtn" class="file-btn">
              Choose flyer image
            </button>
            <input type="file" id="advertImageInput" accept="image/*" class="hidden-input" />
          </div>

          <div id="imagePreviewWrapper" class="image-preview hidden">
            <div id="imagePreviewBg" class="image-preview-bg"></div>
            <img id="imagePreview" class="image-preview-img" src="" alt="Flyer preview">
            <button type="button" id="removeImageBtn" class="remove-image-btn">&times;</button>
          </div>
        </div>

        <!-- STEP 4: PLAN + VISIBILITY -->
        <div class="form-step hidden" data-step="4">
          <p class="form-step-title">Subscription & visibility</p>

          <div class="form-field">
            <label class="field-label">Subscription plan <span class="required">*</span></label>
            <select id="planSelect">
              <option value="">Select duration</option>
              <option value="1m">1 month</option>
              <option value="3m">3 months</option>
              <option value="6m">6 months</option>
              <option value="12m">12 months (1 year)</option>
            </select>
          </div>

          <div class="form-field">
            <label class="field-label">Visibility level <span class="required">*</span></label>
            <select id="visibilitySelect">
              <option value="">Select visibility</option>
              <!-- Options text will be filled with prices via JS -->
            </select>
            <p class="helper-text small">
              Higher visibility means your advert appears more often on the page.
            </p>
          </div>

          <div class="price-preview">
            <span>Amount to pay:</span>
            <strong id="priceDisplay">GHS 0.00</strong>
          </div>
        </div>

        <!-- STEP 5: SUMMARY -->
        <div class="form-step hidden" data-step="5">
          <p class="form-step-title">Confirm your advert</p>

          <div class="summary-box">
            <div class="summary-row">
              <span>Type</span>
              <strong id="summaryType">–</strong>
            </div>
            <div class="summary-row">
              <span>Title</span>
              <strong id="summaryTitle">–</strong>
            </div>
            <div class="summary-row" id="summaryDateRow">
              <span>Event date</span>
              <strong id="summaryDate">–</strong>
            </div>
            <div class="summary-row">
              <span>Plan</span>
              <strong id="summaryPlan">–</strong>
            </div>
            <div class="summary-row">
              <span>Visibility</span>
              <strong id="summaryVisibility">–</strong>
            </div>
            <div class="summary-row total">
              <span>Amount</span>
              <strong id="summaryAmount">GHS 0.00</strong>
            </div>
          </div>

          <p class="helper-text">
            After payment, your request will go to admin for review and approval.
          </p>
        </div>
      </div>

      <div class="advert-form-footer">
        <div id="formError" class="form-error hidden"></div>

        <div class="footer-buttons">
          <button type="button" id="backBtn" class="form-nav-btn secondary">Back</button>
          <button type="button" id="nextBtn" class="form-nav-btn primary" disabled>Continue</button>
        </div>
      </div>
    </div>
  </div>

  <!-- JS (ES module) -->
  <script type="module" src="/Advert/advert.js"></script>
</body>
</html>
